{"version":3,"sources":["lsAPI.js","store/slices/postsSlice.js","store/slices/usersSlice.js","store/index.js","context.js","hooks/useAuth.js","components/Header/NavLink.jsx","components/Header/Nav.jsx","components/Header/Header.jsx","components/Posts/CommentsSection.jsx","components/Posts/Post.jsx","components/Posts/Posts.jsx","components/pages/Home/CreatePostForm.jsx","components/pages/Home/Home.jsx","components/pages/User/User.jsx","components/pages/Users/Users.jsx","components/Main.jsx","components/LoginModal.jsx","components/RegisterModal.jsx","components/App.jsx","index.js"],"names":["ls","localStorage","users","getItem","posts","setItem","JSON","stringify","setAuthId","id","postsSlice","createSlice","name","initialState","reducers","createPost","state","action","post","payload","likes","comments","push","loadPostsFromStorage","splice","length","parse","lsAPI","deletePost","updatePost","likePost","userId","postId","findIndex","el","includes","indexOf","createComment","content","actions","usersSlice","require","loadUsersFromStorage","createUser","user","username","password","v4","deleteUser","setUsers","console","log","store","configureStore","reducer","AuthContext","createContext","useAuth","useSelector","useState","loggedIn","setLoggedIn","setUser","useEffect","login","credentials","u","find","getUserWithUsernameAndPassword","loginWithId","setTimeout","foundUser","logout","NavLink","props","className","to","children","Nav","authContext","useContext","loginLogoutBtn","onClick","type","data-bs-toggle","data-bs-target","style","marginLeft","Header","CommentsSection","dispatch","useDispatch","form","useFormik","initialValues","onSubmit","v","comment","renderedComments","map","c","fontWeight","authorUsername","handleSubmit","placeholder","value","values","onChange","handleChange","disabled","StyledLikeButton","styled","button","Post","authorId","title","handleLike","likeButton","href","Posts","renderedPosts","CreatePostForm","trim","resetForm","Home","User","useParams","selectedUser","postsBySelectedUser","filter","p","Users","renderedUsers","Main","path","exact","LoginModal","error","setError","setForm","e","target","handleLogin","preventDefault","document","getElementById","click","tabIndex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","htmlFor","RegisterModal","closeBtnRef","useRef","current","ref","App","authHook","addEventListener","Provider","basename","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4c97c78b.chunk.js","sourcesContent":["const ls = localStorage;\r\n\r\n(function init() {\r\n  const users = ls.getItem('users');\r\n  const posts = ls.getItem('posts');\r\n\r\n  if (users === 'undefined' || users === null) {\r\n    ls.setItem('users', JSON.stringify([]));\r\n  }\r\n\r\n  if (posts === 'undefined' || posts === null) {\r\n    ls.setItem('posts', JSON.stringify([]));\r\n  }\r\n})();\r\n\r\nconst getAuthId = () => {\r\n  const id = ls.getItem('auth');\r\n\r\n  if (id === 'undefined' || id === null) {\r\n    return false;\r\n  }\r\n\r\n  return id;\r\n};\r\n\r\nconst setAuthId = (id) => {\r\n  ls.setItem('auth', id);\r\n};\r\n\r\nconst getUsers = () => {\r\n  const users = ls.getItem('users');\r\n\r\n  return JSON.parse(users);\r\n};\r\n\r\nconst setUsers = (users) => {\r\n  ls.setItem('users', JSON.stringify(users));\r\n};\r\n\r\nconst getPosts = () => {\r\n  const posts = ls.getItem('posts');\r\n\r\n  return JSON.parse(posts);\r\n};\r\n\r\nconst setPosts = (posts) => {\r\n  ls.setItem('posts', JSON.stringify(posts));\r\n};\r\n\r\nexport { setAuthId, getAuthId, getPosts, getUsers, setUsers, setPosts };\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport * as lsAPI from 'lsAPI'\r\n\r\nconst postsSlice = createSlice({\r\n\r\n  name: 'posts',\r\n\r\n  initialState: [\r\n    // {\r\n    //   id: '111',\r\n    //   authorId: '0f87601a-267e-48f0-8bea-62fadc34c787', // Daler\r\n    //   title: 'My life',\r\n    //   content: 'I was born in Bukhara\\n, I love that cityI was born in Bukhara\\n, I love that cityI was born in Bukhara\\n, I love that city',\r\n    //   likes: ['0f87601a-267e-48f0-8bea-62fadc34c787'],\r\n    //   comments: [\r\n    //     {\r\n    //       userId: 'f0d32257-8629-4118-983d-b82398cc46e6',\r\n    //       content: 'Good Post!'\r\n    //     },\r\n    //     {\r\n    //       userId: '0f87601a-267e-48f0-8bea-62fadc34c787',\r\n    //       content: 'Hello!'\r\n    //     },\r\n    //   ]\r\n    // },\r\n    // {\r\n    //   id: '222',\r\n    //   authorId: '0f87601a-267e-48f0-8bea-62fadc34c787', // Daler\r\n    //   title: 'Title 2',\r\n    //   content: 'Content 2',\r\n    //   likes: [],\r\n    //   comments: []\r\n    // },\r\n    // {\r\n    //   id: '333',\r\n    //   authorId: 'f0d32257-8629-4118-983d-b82398cc46e6', // Aziz\r\n    //   title: 'Title 3',\r\n    //   content: 'Content 3',\r\n    //   likes: [],\r\n    //   comments: []\r\n    // }\r\n  ],\r\n\r\n  reducers: {\r\n\r\n    createPost: (state, action) => {\r\n      const { post } = action.payload;\r\n\r\n      // just in case\r\n      post.likes = []\r\n      post.comments = [];\r\n\r\n      state.push(post);\r\n      lsAPI.setPosts(state);\r\n    },\r\n\r\n    loadPostsFromStorage: (state, action) => {\r\n      state.splice(0, state.length);\r\n      const posts = lsAPI.getPosts();\r\n\r\n      for (let post of posts) {\r\n        state.push(post);\r\n      }\r\n    },\r\n\r\n    deletePost: (state, action) => {\r\n      \r\n    },\r\n\r\n    updatePost: (state, action) => {\r\n      \r\n    },\r\n\r\n    likePost: (state, action) => {\r\n      const { userId, postId } = action.payload;\r\n\r\n      // ref to likes of post that is liked\r\n      const likes = state[state.findIndex(el => el.id === postId)].likes;\r\n\r\n      // if user already liked this post, unlike this post\r\n      if (likes.includes(userId)) {\r\n        likes.splice(likes.indexOf(userId), 1);\r\n        return;\r\n      }\r\n\r\n      likes.push(userId);\r\n    },\r\n\r\n    createComment: (state, action) => {\r\n      const { postId, userId, content } = action.payload;\r\n\r\n      const comments = state[state.findIndex(el => el.id === postId)].comments;\r\n\r\n      comments.push({ userId, content })\r\n    }\r\n\r\n  }\r\n  \r\n});\r\n\r\nexport const { createPost, loadPostsFromStorage, likePost, createComment } = postsSlice.actions;\r\n\r\nexport default postsSlice.reducer;\r\n","import { v4 } from \"uuid\";\r\nimport * as lsAPI from 'lsAPI'\r\n\r\nconst { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst usersSlice = createSlice({\r\n\r\n  name: 'users',\r\n\r\n  initialState: [],\r\n\r\n  reducers: {\r\n\r\n    loadUsersFromStorage: (state, action) => {\r\n      const users = lsAPI.getUsers();\r\n      state.splice(0, state.length);\r\n      for (let el of users) {\r\n        state.push(el);\r\n      }\r\n    },\r\n\r\n    createUser: (state, action) => {\r\n      const { username, password } = action.payload.user;\r\n      const user = { username, password, id: v4() };\r\n      state.push(user);\r\n      lsAPI.setUsers(state);\r\n    },\r\n\r\n    deleteUser: (state, action) => {\r\n      const { id } = action.payload;\r\n\r\n      state.splice(state.findIndex(user => user.id === id), 1);\r\n    },\r\n\r\n    setUsers: (state, action) => {\r\n      const { users } = action.payload;\r\n      console.log(users)\r\n      // clean state\r\n      state.splice(0, state.length);\r\n      // add elements from users to state\r\n      for (let el in users) {\r\n        state.push(el)\r\n      }\r\n    }\r\n\r\n  }\r\n  \r\n});\r\n\r\nexport const { createUser, setUsers, loadUsersFromStorage } = usersSlice.actions;\r\n\r\nexport default usersSlice.reducer;\r\n","import postsSlice from \"./slices/postsSlice\";\r\nimport usersSlice from \"./slices/usersSlice\";\r\n\r\nconst { configureStore } = require(\"@reduxjs/toolkit\");\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    users: usersSlice,\r\n    posts: postsSlice\r\n  }\r\n});\r\n\r\nexport default store;\r\n","const { createContext } = require(\"react\");\r\n\r\nconst AuthContext = createContext({});\r\n\r\nexport { AuthContext };\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport * as lsAPI from 'lsAPI';\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\n// gets user from redux store, return user if found, false otherwise\r\nfunction getUserWithUsernameAndPassword(credentials, users) {\r\n  const { username, password } = credentials;\r\n  const user = users.find(user => {\r\n    if (user.username === username && user.password === password) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  if (user) {\r\n    return user;    \r\n  }\r\n  return false;\r\n}\r\n\r\nfunction useAuth() {\r\n  const users = useSelector(state => state.users);\r\n  const [loggedIn, setLoggedIn] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // console.log(loggedIn ? 'Logged in' : 'Logged out');\r\n  }, [loggedIn]);\r\n\r\n  // returns true if logged in successfully, false otherwise\r\n  const login = (credentials) => {\r\n    const u = getUserWithUsernameAndPassword(credentials, users);\r\n    if (u) {\r\n      setLoggedIn(true);\r\n      setUser(u);\r\n      lsAPI.setAuthId(u.id);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const loginWithId = (id) => {\r\n    setTimeout(() => {\r\n      if (id) {\r\n        const foundUser = users.find(u => u.id === id);\r\n        if (foundUser) {\r\n          setLoggedIn(true);\r\n          setUser(foundUser);\r\n        }\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  // logout from system\r\n  const logout = () => {\r\n    setLoggedIn(false);\r\n    setUser(null);\r\n    lsAPI.setAuthId(null);\r\n  };\r\n\r\n  return { loggedIn, user, login, loginWithId, logout };\r\n}\r\n\r\nexport default useAuth;\r\n","import { Link } from \"react-router-dom\"\r\n\r\nconst NavLink = (props) => {\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <Link to={props.to} className=\"nav-link\">\r\n        {props.children}\r\n      </Link>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default NavLink\r\n","import { AuthContext } from \"context\";\r\nimport { useContext } from \"react\";\r\nimport NavLink from \"./NavLink\"\r\n\r\nconst Nav = () => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const handleLogout = () => authContext.logout();\r\n\r\n  const loginLogoutBtn = !authContext.loggedIn ? (\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-outline-success\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#modalLogin\"\r\n    >\r\n      Login\r\n    </button>\r\n\r\n  ) : (\r\n    <button\r\n      className=\"btn btn-outline-danger\"\r\n      onClick={handleLogout}\r\n    >\r\n      Logout\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <nav className=\"navbar-expand-sm p-2 navbar navbar-expand-sm navbar-dark bg-dark d-flex justify-content-between\">\r\n      <div className=\"container-fluid\">\r\n\r\n        <button\r\n          className=\"navbar-toggler\" \r\n          type=\"button\" \r\n          data-bs-toggle=\"collapse\" \r\n          data-bs-target=\"#navbar\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"navbar-brand\">\r\n          <h3>SocialMedia</h3>\r\n        </div>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbar\">\r\n\r\n          <ul className=\"navbar-nav me-auto\">\r\n            <NavLink to=\"/home\">\r\n              Home\r\n            </NavLink>\r\n            <NavLink to=\"/users\">\r\n              Users\r\n            </NavLink>\r\n          </ul>\r\n\r\n          <div className=\"d-flex\">\r\n            {loginLogoutBtn} {' '}\r\n            <button\r\n              className=\"btn btn-outline-primary ml-2\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#modal-register\"\r\n              style={{ marginLeft: '7px' }}\r\n            >\r\n              Register\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Nav\r\n","import Nav from \"./Nav\"\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <Nav />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { AuthContext } from 'context';\r\nimport { useFormik } from 'formik';\r\nimport pt from 'prop-types'\r\nimport { useContext } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { createComment } from 'store/slices/postsSlice';\r\nimport { v4 } from 'uuid';\r\n\r\nconst CommentsSection = (props) => {\r\n  const { comments, postId } = props;\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const dispatch = useDispatch();\r\n  const form = useFormik({\r\n    initialValues: {\r\n      content: ''\r\n    },\r\n    onSubmit: (v) => {\r\n      const comment = {\r\n        postId,\r\n        userId: authContext.user.id,\r\n        content: v.content\r\n      }\r\n      dispatch(createComment(comment));\r\n    }\r\n  });\r\n\r\n  const renderedComments = comments.map(c => (\r\n    <li className=\"list-group-item\" key={v4()}>\r\n      <span style={{ fontWeight: '600' }}>\r\n        {c.authorUsername}\r\n      </span>{'   '}\r\n      {c.content}\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    // <div className=\"\">\r\n    <>\r\n\r\n    {/* Form */}\r\n      <form\r\n        onSubmit={form.handleSubmit}\r\n        className=\"p-2\"\r\n      >\r\n        <div className=\"\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Comment\"\r\n            name=\"content\"\r\n            value={form.values.content}\r\n            onChange={form.handleChange}\r\n            disabled={authContext.loggedIn ? false : true}\r\n          />\r\n        </div>\r\n        <div className=\"mt-1\">\r\n          <input\r\n            type=\"submit\"\r\n            className=\"form-control btn btn-outline-secondary\"\r\n            value=\"Leave\"\r\n            disabled={authContext.loggedIn ? false : true}\r\n          />\r\n        </div>\r\n      </form>\r\n    {/* Form */}\r\n      \r\n    {/* Comments list */}\r\n      <ul className=\"list-group\">\r\n        {renderedComments}\r\n      </ul>\r\n    {/* Comments list */}{/* </div> */}\r\n    </>\r\n  )\r\n}\r\n\r\nCommentsSection.propTypes = {\r\n  comments: pt.array.isRequired,\r\n  postId: pt.string.isRequired\r\n}\r\n\r\nexport default CommentsSection\r\n","import { AuthContext } from 'context';\r\nimport pt from 'prop-types'\r\nimport { useContext } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { likePost } from 'store/slices/postsSlice';\r\nimport styled from 'styled-components'\r\nimport { v4 } from 'uuid';\r\nimport CommentsSection from './CommentsSection';\r\n\r\nconst StyledLikeButton = styled.button`\r\n  white-space: pre;\r\n`;\r\n\r\nconst Post = (props) => {\r\n  const users = useSelector(state => state.users);\r\n  const dispatch = useDispatch();\r\n  const authContext = useContext(AuthContext);\r\n  \r\n  let { id, authorId, title, content, likes, comments } = props.post;\r\n\r\n  const authorUsername = users.find(u => u.id === authorId).username;\r\n\r\n  //change comments to pass to CommentsSection\r\n  comments = comments.map(c => {\r\n    return {\r\n      content: c.content,\r\n      authorUsername: users.find(u => u.id === c.userId).username\r\n    };\r\n  });\r\n\r\n  const handleLike = () => {\r\n    dispatch(likePost({ userId: authContext.user.id, postId: id }));\r\n  };\r\n\r\n  // check if current user liked this post\r\n  // first check if user is logged in\r\n  let likedByUser;\r\n  if (authContext.loggedIn && authContext.user) {\r\n\r\n    // and finally check weather user liked this post or not\r\n    if (likes.includes(authContext.user.id)) {\r\n      likedByUser = true;\r\n    } else {\r\n      likedByUser = false;\r\n    }\r\n\r\n  } else {\r\n    likedByUser = false;\r\n  }\r\n\r\n  const likeButton = likedByUser ? (\r\n    <StyledLikeButton\r\n      className={`btn btn-outline-success`}\r\n      onClick={handleLike}\r\n      disabled={authContext.loggedIn ? false : true}\r\n    >\r\n      {likes.length}  |  Liked\r\n    </StyledLikeButton>\r\n  ) : (\r\n    <StyledLikeButton\r\n      className={`btn btn-outline-danger`}\r\n      onClick={handleLike}\r\n      disabled={authContext.loggedIn ? false : true}\r\n    >\r\n      {likes.length}  |  Like\r\n    </StyledLikeButton>\r\n  );\r\n\r\n  return (\r\n    <li className=\"row\">\r\n      <div className=\"mt-4 card col-12 ffset-2 p-0 border border-dark\">\r\n\r\n        <div className=\"card-header\">\r\n          <Link to={`/users/${authorUsername}`}>\r\n            {authorUsername}\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">\r\n            {title}\r\n          </h4>\r\n          <p className=\"card-text\">\r\n            {content}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"card-footer text-end\">\r\n          {likeButton}{' '}\r\n          <a\r\n            href={`#a${id}`}\r\n            data-bs-toggle=\"collapse\"\r\n            className=\"btn btn-outline-primary\"\r\n          >\r\n            Comments\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"collapse\" id={`a${id}`}>\r\n          <CommentsSection\r\n            comments={comments}\r\n            postId={id}\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </li>\r\n  )\r\n}\r\n\r\nPost.propTypes = {\r\n  post: pt.object.isRequired\r\n}\r\n\r\nexport default Post\r\n","import Post from \"./Post\"\r\nimport pt from 'prop-types'\r\nimport { v4 } from \"uuid\";\r\n\r\nconst Posts = (props) => {\r\n  const renderedPosts = props.posts.map(post => (\r\n    <Post post={post} key={v4()} />\r\n  ));\r\n\r\n  return (\r\n    <ul className=\"container-fluid\">\r\n      {renderedPosts}\r\n    </ul>\r\n  )\r\n}\r\n\r\nPosts.propTypes = {\r\n  posts: pt.array\r\n}\r\n\r\nexport default Posts\r\n","import { AuthContext } from \"context\";\r\nimport { useFormik } from \"formik\"\r\nimport { useContext } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createPost } from \"store/slices/postsSlice\";\r\nimport { v4 } from \"uuid\";\r\n\r\nconst CreatePostForm = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const dispatch = useDispatch();\r\n  const form = useFormik({\r\n    initialValues: {\r\n      title: '',\r\n      content: ''\r\n    },\r\n    onSubmit: (v) => {\r\n      const { title, content } = v;\r\n      if (!authContext.loggedIn) {\r\n        return;\r\n      }\r\n      if (v.title.trim() === '') {\r\n        return;\r\n      }\r\n      if (v.content.trim() === '') {\r\n        return;\r\n      }\r\n      const id = v4();\r\n      const authorId = authContext.user.id;\r\n      dispatch(createPost({ post: {id, authorId, title, content, likes: []} }));\r\n      form.resetForm();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <form className=\"container-fluid\" onSubmit={form.handleSubmit}>\r\n      <div className=\"row\">\r\n        <input\r\n          className=\"form-control\"\r\n          placeholder=\"Title\"\r\n          name=\"title\"\r\n          value={form.values.title}\r\n          onChange={form.handleChange}\r\n          disabled={authContext.loggedIn ? false : true}\r\n        />\r\n      </div>\r\n      <div className=\"row mt-1\">\r\n        <textarea\r\n          className=\"form-control\"\r\n          name=\"content\"\r\n          placeholder=\"Content\"\r\n          value={form.values.content}\r\n          onChange={form.handleChange}\r\n          disabled={authContext.loggedIn ? false : true}\r\n        ></textarea>\r\n      </div>\r\n      <div className=\"row mt-1\">\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-outline-primary\"\r\n          disabled={authContext.loggedIn ? false : true}\r\n        >\r\n          Creat post\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CreatePostForm\r\n","import { useSelector } from \"react-redux\"\r\nimport Posts from \"components/Posts/Posts\";\r\nimport CreatePostForm from \"./CreatePostForm\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"context\";\r\n\r\nconst Home = () => {\r\n  const posts = useSelector(state => state.posts);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  return (\r\n    <>\r\n      {authContext.loggedIn ? (\r\n        <h1 className=\"text-center\">\r\n          Hi {authContext.user?.username}!\r\n        </h1>\r\n      ) : (\r\n        <h1 className=\"text-center\">\r\n          Please Login!\r\n        </h1>\r\n      )}\r\n      <CreatePostForm />\r\n      <Posts posts={posts} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { useParams } from \"react-router-dom\"\r\nimport Posts from \"components/Posts/Posts\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst User = () => {\r\n  const { username } = useParams();\r\n  const users = useSelector(state => state.users);\r\n  const posts = useSelector(state => state.posts);\r\n\r\n  const selectedUser = users.find(u => u.username === username);\r\n  const postsBySelectedUser = posts.filter(p => p.authorId === selectedUser.id);\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h1 className=\"text-center\">\r\n        {username}\r\n      </h1>\r\n\r\n      <Posts posts={postsBySelectedUser} />\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import { useSelector } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { v4 } from \"uuid\"\r\n\r\nconst Users = () => {\r\n  const users = useSelector(state => state.users)\r\n\r\n  const renderedUsers = users.map(user => (\r\n    <li\r\n      key={v4()}\r\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\r\n    >\r\n      {user.username}\r\n      <Link to={`/users/${user.username}`}>\r\n        <button className=\"btn btn-outline-warning\">\r\n          View\r\n        </button>\r\n      </Link>\r\n    </li>\r\n  ))\r\n\r\n  return (\r\n    <div className=\"\">\r\n\r\n      <h1 className=\"text-center\">\r\n        Users\r\n      </h1>\r\n\r\n      <ul className=\"list-group p-3\">\r\n        {renderedUsers}\r\n      </ul>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import { Switch, Redirect, Route } from 'react-router-dom'\r\nimport Home from './pages/Home/Home'\r\nimport User from './pages/User/User'\r\nimport Users from './pages/Users/Users'\r\n\r\nconst Main = () => {\r\n  return (\r\n    <main className=\"p-3 col-xs-12 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4 border\">\r\n      <Switch>\r\n\r\n        <Route path=\"/\" exact>\r\n          <Redirect to=\"/home\" />\r\n        </Route>\r\n\r\n        <Route path=\"/home\" exact>\r\n          <Home />\r\n        </Route>\r\n\r\n        <Route path=\"/users\" exact>\r\n          <Users />\r\n        </Route>\r\n\r\n        <Route path=\"/users/:username\" exact>\r\n          <User />\r\n        </Route>\r\n\r\n      </Switch>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import { AuthContext } from \"context\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\n\r\n\r\nconst LoginModal = () => {\r\n  const [error, setError] = useState('');\r\n  const authContext = useContext(AuthContext);\r\n  const [form, setForm] = useState({ username: '', password: '' });\r\n  useEffect(() => setTimeout(() => setError(''), 2000), [error]);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const { username, password } = form;\r\n    const credentials = { username, password };\r\n    const loggedIn = authContext.login(credentials);\r\n    if (loggedIn) {\r\n      setForm({ username: '', password: '' })\r\n      document.getElementById('modal-close-btn').click(); \r\n    } else {\r\n      setError('Failed to login');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleLogin}\r\n      className=\"modal fade\"\r\n      id=\"modalLogin\"\r\n      tabIndex=\"-1\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">\r\n\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              Login <span className=\"text-danger\">{error}</span>\r\n            </h5>\r\n            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n\r\n          <div className=\"modal-body\">\r\n\r\n            <div className=\"mb-2\">\r\n              <label\r\n                htmlFor=\"#usernameField\"\r\n                className=\"form-label\"\r\n              >\r\n                Username\r\n              </label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                id=\"usernameField\"\r\n                value={form.username}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-2\">\r\n              <label\r\n                htmlFor=\"#passwordField\"\r\n                className=\"form-label\"\r\n              >\r\n                Password\r\n              </label>\r\n              <input\r\n                className=\"form-control\"\r\n                id=\"passwordField\"\r\n                name=\"password\"\r\n                value={form.password}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-outline-primary\"\r\n              onClick={handleLogin}\r\n            >\r\n              Login\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark\"\r\n              data-bs-dismiss=\"modal\"\r\n              id=\"modal-close-btn\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginModal\r\n","import { AuthContext } from \"context\";\r\nimport { useEffect } from \"react\";\r\nimport { useContext, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createUser } from \"store/slices/usersSlice\";\r\n\r\nconst RegisterModal = () => {\r\n  const [error, setError] = useState('');\r\n  const dispatch = useDispatch();\r\n  const users = useSelector(state => state.users);\r\n  const closeBtnRef = useRef();\r\n  const [form, setForm] = useState({ username: '', password: ''});\r\n  useEffect(() => setTimeout(() => setError(''), 2000), [error]);\r\n  \r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleRegister = (e) => {\r\n    e.preventDefault();\r\n\r\n    // if user with the same username exists, not to create one\r\n    const foundUser = users.find(u => u.username === form.username);\r\n    if (foundUser) {\r\n      setError('Username already used!')\r\n      return\r\n    }\r\n\r\n    dispatch(createUser({ user: form }));\r\n    setForm({ username: '', password: '' });\r\n    closeBtnRef.current.click();\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleRegister}\r\n      className=\"modal fade\"\r\n      id=\"modal-register\"\r\n      tabIndex=\"-1\"\r\n    >\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">\r\n\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              Register\r\n            </h5>\r\n            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n\r\n          <div className=\"modal-body\">\r\n\r\n            <div className=\"mb-2\">\r\n              <label\r\n                htmlFor=\"#usernameField\"\r\n                className=\"form-label\"\r\n              >\r\n                Username <span className=\"text-danger\">{error}</span>\r\n              </label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                id=\"usernameField\"\r\n                value={form.username}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-2\">\r\n              <label\r\n                htmlFor=\"#passwordField\"\r\n                className=\"form-label\"\r\n              >\r\n                Password\r\n              </label>\r\n              <input\r\n                className=\"form-control\"\r\n                id=\"passwordField\"\r\n                name=\"password\"\r\n                value={form.password}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-outline-primary\"\r\n            >\r\n              Register\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark\"\r\n              data-bs-dismiss=\"modal\"\r\n              id=\"modal-close-btn\"\r\n              ref={closeBtnRef}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RegisterModal\r\n","import { AuthContext } from \"context\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport Header from \"./Header/Header\";\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport Main from \"./Main\";\r\nimport LoginModal from \"./LoginModal\";\r\nimport * as lsAPI from \"lsAPI\";\r\nimport RegisterModal from \"./RegisterModal\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loadUsersFromStorage, setUsers } from \"store/slices/usersSlice\";\r\nimport { loadPostsFromStorage } from \"store/slices/postsSlice\";\r\n\r\nconst App = () => {\r\n  const authHook = useAuth();\r\n  const dispatch = useDispatch();\r\n\r\n  console.log('Test')\r\n  authHook.loginWithId(lsAPI.getAuthId());\r\n\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    dispatch(loadUsersFromStorage({}));\r\n    dispatch(loadPostsFromStorage({}));\r\n  })\r\n\r\n  return (\r\n    <AuthContext.Provider value={authHook}>\r\n      <BrowserRouter basename=\"/social-media\">\r\n        <div className=\"container-fluid p-0\">\r\n          <Header />\r\n          <Main />\r\n          <LoginModal />\r\n          <RegisterModal />\r\n        </div>\r\n      </BrowserRouter>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from 'store';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}